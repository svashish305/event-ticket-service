# Event Ticket Service

A project to demonstrate event ticketing system built using FastApi and PostgreSQL.

## Setup Instructions

```python
python3 -m venv .venv
source .venv/bin/activate
# install all dependencies
pip install -r requirements.txt
# run all database migrations specified in versions folder which is auto generated by alembic and edited later to perform upgrade() and downgrade(), this is done after running database in docker container and before running server, to create tables and seed db with initial data
alembic upgrade head
# (optional) in case of updating dependencies, after updates, run below command to update requirements.txt
pip freeze > requirements.txt
# (optional) after any model schema change, run below command with proper message to create another migration
alembic revision -m "custom message for next migration attempt"
```

## Run Instructions

```python
# run postgresql using docker compose
docker compose up -d
# if you face port already in use or permission denied, since docker also uses port 5432, stop local postgresql and run below command
sudo systemctl stop postgresql
sudo docker compose up -d
# run server in separate terminal tab
source .venv/bin/activate
uvicorn app.main:app --reload
```

## API Documentation

API documentation is available at http://localhost:8000/docs or http://localhost:8000/redoc
Use this to refer to API endpoints and their request/response formats, to test them using OpenAPI UI or Postman or any other API Client tool.